<section class="breadcrumb my-3 my-lg-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-lg-2 text-center mb-1">
                <a href="javascript:void(0)"><span class="fw-bold text-primary">Shopping Cart</span></a>
            </div>
            <div class="col-1 d-none d-lg-block text-center">
                <span class="iconify text-grey" data-icon="ion:chevron-right"></span>
            </div>
            <div class="col-12 col-lg-3 text-center mb-1">
                <span class="iconify text-grey me-2 mb-2 d-inline d-lg-none" data-icon="ion:chevron-right"></span>
                <a href="javascript:void(0)"><span class="fw-bold text-primary">Procced To Checkout</span></a>
            </div>
            <div class="col-1 d-none d-lg-block text-center">
                <span class="iconify text-grey" data-icon="ion:chevron-right"></span>
            </div>
            <div class="col-12 col-lg-2 text-center mb-1">
                <span class="iconify text-grey me-2 mb-2 d-inline d-lg-none" data-icon="ion:chevron-right"></span>
                <a href="javascript:void(0)"><span class="fw-bold">Order Complete</span></a>
            </div>
        </div>
    </div>
</section>

<section class="cart mb-5 pb-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-xl-7">
                <form>
                    <p class="fs-4">Contact</p>
                    <div class="form-group mb-2">
                        <label for="email" class="form-label font-p fs-14">Email address</label>
                        <input type="email" class="form-control font-p fs-14" id="email" aria-describedby="email" [(ngModel)]="model.email" name="email">
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="subsribe">
                        <label class="form-check-label font-p fs-14" for="subsribe">Email me with news and offers</label>
                    </div>

                    <p class="fs-4">Delivery</p>
                    <fieldset disabled="true" *ngIf="model.recipient">
                        <div class="row">
                            <!-- <div class="col-12">
                                <div class="form-group mb-2">
                                    <label for="exampleInputEmail1" class="form-label font-p fs-14">Country/Region</label>
                                    <input type="email" class="form-control font-p fs-14" id="exampleInputEmail1" aria-describedby="emailHelp">
                                </div>
                            </div> -->
                            <div class="col-6">
                                <div class="form-group mb-2">
                                    <label for="recipient" class="form-label font-p fs-14">Recipient</label>
                                    <input type="text" class="form-control font-p fs-14" id="recipient" [(ngModel)]="model.recipient" name="recipient">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group mb-2">
                                    <label for="phone_numberFormat" class="form-label font-p fs-14">Phone numberFormat</label>
                                    <div class="input-group mb-3">
                                        <span class="input-group-text" id="phone_numberFormat"> {{ model.phone_code }} </span>
                                        <input type="text" class="form-control font-p fs-14" id="phone_numberFormat" [(ngModel)]="model.phone_numberFormat" name="phone_numberFormat">
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group mb-2">
                                    <label for="address" class="form-label font-p fs-14">Address</label>
                                    <textarea type="text" class="form-control font-p fs-14" id="address" [(ngModel)]="model.address" name="address" rows="3"></textarea>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group mb-2">
                                    <label for="province_name" class="form-label font-p fs-14">Province</label>
                                    <input type="text" class="form-control font-p fs-14" id="province_name" [(ngModel)]="model.province_name" name="province_name">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group mb-2">
                                    <label for="city_name" class="form-label font-p fs-14">City</label>
                                    <input type="text" class="form-control font-p fs-14" id="city_name" [(ngModel)]="model.city_name" name="city_name">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group mb-2">
                                    <label for="subdistrict_name" class="form-label font-p fs-14">Subdistrict</label>
                                    <input type="text" class="form-control font-p fs-14" id="subdistrict_name" [(ngModel)]="model.subdistrict_name" name="subdistrict_name">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group mb-2">
                                    <label for="village_name" class="form-label font-p fs-14">Village</label>
                                    <input type="text" class="form-control font-p fs-14" id="village_name" [(ngModel)]="model.village_name" name="village_name">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group mb-2">
                                    <label for="postal_code" class="form-label font-p fs-14">Postal Code</label>
                                    <input type="text" class="form-control font-p fs-14" id="postal_code" [(ngModel)]="model.postal_code" name="postal_code">
                                </div>
                            </div>
                            <div class="col-12 mt-3">
                                <button class="btn btn-dark w-100 rounded-0 py-3 fw-bold" (click)="checkout()" [disabled]="loading">Complete Order</button>
                            </div>
                        </div>
                    </fieldset>
                    <div class="row justify-content-center" *ngIf="!model.recipient">
                        <div class="col-8 text-center">
                            <img src="../../../assets/img/undraw/empty.png" class="w-100" alt="empty-address" width="300">
                            <p class="font-p fs-14">Mohon Maaf, alamat pengiriman anda belum ada, harap tambahkan alamat pengiriman di menu akun</p>
                            <a href="/account" class="btn btn-primary btn-sm rounded-5 px-3"> 
                                <i class='bx bx-map-pin me-1'></i>
                                Tambahkan Alamat
                            </a>
                        </div>
                    </div>
                </form>
            </div>

            <div class="col-lg-6 col-xl-5">
                <div class="cart-total border rounded-2 border-opacity-10 p-4">
                    <table class="w-100">
                        <tr height="110" *ngFor="let item of listCart; index as i">
                            <td width="30%">
                                <div class="image-thumbnail" style="width: 100%; max-width: 100px;">
                                    <img [src]="item.foto" class="object-fit-cover w-100 h-auto rounded-1" width="64" height="64" alt="">
                                </div>
                            </td>
                            <td>
                                <p class="mb-0"> {{ item.nama }} </p>
                                <small class="font-p">{{item.quantity}} x {{item.harga | numberFormat}} </small>
                            </td>
                            <td class="text-end align-bottom">
                                <div class="font-p mb-4">Rp {{ item.subtotal_price | numberFormat }}</div>
                            </td>
                        </tr>
                    </table>
                    <table class="w-100 mt-3">
                        <tr height="30" class="mt-3">
                            <td class="font-p fs-14">Subtotal</td>
                            <td class="text-end font-p fs-14">Rp {{ subtotal | numberFormat }}</td>
                        </tr>
                        <tr height="60" class="pb-3">
                            <td class="font-p fs-14">Biaya Pengiriman</td>
                            <td class="text-end font-p fs-14">Rp. 6.500.00</td>
                        </tr>
                        <tr height="60" class="border-top">
                            <td class="fs-6 font-p fw-semibold">Grandtotal</td>
                            <td class="text-end fs-6 font-p fw-semibold">Rp {{ total | numberFormat }}</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>

<app-footer></app-footer>